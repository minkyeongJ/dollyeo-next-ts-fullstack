# Dollyeo - ë£°ë › ì• í”Œë¦¬ì¼€ì´ì…˜

ì§ˆë¬¸ê³¼ ì°¸ì—¬ìë¥¼ ê´€ë¦¬í•˜ê³  ë£°ë ›ìœ¼ë¡œ ë¬´ì‘ìœ„ ì„ íƒì„ í•  ìˆ˜ ìˆëŠ” í’€ìŠ¤íƒ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

## ğŸš€ ê¸°ìˆ  ìŠ¤íƒ

### Core Stack

| êµ¬ë¶„             | ê¸°ìˆ                | ë²„ì „  | ì„¤ëª…                              |
| ---------------- | ------------------ | ----- | --------------------------------- |
| **í”„ë ˆì„ì›Œí¬**   | Next.js            | 16    | App Router ê¸°ë°˜ í’€ìŠ¤íƒ í”„ë ˆì„ì›Œí¬ |
| **ì–¸ì–´**         | TypeScript         | 5     | íƒ€ì… ì•ˆì •ì„± í™•ë³´                  |
| **ìŠ¤íƒ€ì¼ë§**     | Tailwind CSS       | 4     | ìœ í‹¸ë¦¬í‹° ê¸°ë°˜ CSS í”„ë ˆì„ì›Œí¬      |
| **ë°ì´í„°ë² ì´ìŠ¤** | MongoDB + Mongoose | 7 / 9 | NoSQL ë°ì´í„°ë² ì´ìŠ¤                |

### Feature Libraries

| ê¸°ëŠ¥                    | ë¼ì´ë¸ŒëŸ¬ë¦¬                   | ì„¤ëª…                                        |
| ----------------------- | ---------------------------- | ------------------------------------------- |
| **ìƒíƒœ ê´€ë¦¬ (ë¹„ë™ê¸°)**  | TanStack React Query         | ì„œë²„ ìƒíƒœ ìºì‹±, ì¬ê²€ì¦, ë¡œë”©/ì—ëŸ¬ ìƒíƒœ ê´€ë¦¬ |
| **ìƒíƒœ ê´€ë¦¬ (ì „ì—­ UI)** | Zustand                      | UI ê´€ë ¨ ê¸€ë¡œë²Œ ìƒíƒœ ê´€ë¦¬                    |
| **í¼ ê´€ë¦¬**             | React Hook Form + Zod        | íƒ€ì… ê¸°ë°˜ í¼ ìœ íš¨ì„± ê²€ì‚¬                    |
| **ì• ë‹ˆë©”ì´ì…˜**          | Framer Motion                | ì„ ì–¸ì  ì• ë‹ˆë©”ì´ì…˜ êµ¬í˜„                      |
| **ì¸ì¦**                | NextAuth.js (Auth.js)        | ì¸ì¦ ì‹œìŠ¤í…œ                                 |
| **í…ŒìŠ¤íŠ¸**              | Jest + React Testing Library | ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ë° ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸              |

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
/dollyeo-next-ts-fullstack
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                          # 1. Next.js App Router (Routing & Rendering)
â”‚   â”‚   â”œâ”€â”€ (auth)/                   # ì¸ì¦ ë¼ìš°íŠ¸ ê·¸ë£¹
â”‚   â”‚   â”‚   â”œâ”€â”€ login/                # ë¡œê·¸ì¸ í˜ì´ì§€
â”‚   â”‚   â”‚   â””â”€â”€ register/             # íšŒì›ê°€ì… í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ (dashboard)/              # ëŒ€ì‹œë³´ë“œ (ì¸ì¦ í•„ìˆ˜ ë¼ìš°íŠ¸)
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx            # Server Component ê¸°ë°˜ ì¸ì¦ ê²€ì‚¬
â”‚   â”‚   â”‚   â”œâ”€â”€ providers.tsx         # Dashboardìš© Provider
â”‚   â”‚   â”‚   â”œâ”€â”€ questions/            # ì§ˆë¬¸ ê´€ë¦¬ í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ participants/         # ì°¸ì—¬ì ê´€ë¦¬ í˜ì´ì§€
â”‚   â”‚   â”‚   â””â”€â”€ roulette/             # ë£°ë › ëŒë¦¬ê¸° í˜ì´ì§€ (í•µì‹¬)
â”‚   â”‚   â”œâ”€â”€ api/auth/[...nextauth]/   # NextAuth API ë¼ìš°íŠ¸
â”‚   â”‚   â”œâ”€â”€ share/[shareToken]/       # ê³µìœ  ë§í¬ ë™ì  ë¼ìš°íŒ…
â”‚   â”‚   â”œâ”€â”€ layout.tsx                # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”œâ”€â”€ providers.tsx             # ì „ì—­ Provider (QueryClient, Session)
â”‚   â”‚   â””â”€â”€ page.tsx                  # ë£¨íŠ¸ í˜ì´ì§€
â”‚   â”‚
â”‚   â”œâ”€â”€ actions/                      # 2. Server Actions (ë°ì´í„° ë³€ê²½ ì£¼ë ¥ ê³„ì¸µ) â­
â”‚   â”‚   â”œâ”€â”€ auth.actions.ts           # NextAuth signIn/signOut ë˜í•‘
â”‚   â”‚   â”œâ”€â”€ questions.actions.ts      # ì§ˆë¬¸ CRUD Server Actions
â”‚   â”‚   â”œâ”€â”€ participants.actions.ts   # ì°¸ì—¬ì CRUD Server Actions
â”‚   â”‚   â””â”€â”€ data.actions.ts           # ê¸°íƒ€ ë°ì´í„° Server Actions
â”‚   â”‚
â”‚   â”œâ”€â”€ mocks/                        # 3. ëª©ë°ì´í„° ê³„ì¸µ (ê°œë°œ/í…ŒìŠ¤íŠ¸ìš©)
â”‚   â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”‚   â”œâ”€â”€ users.mock.ts         # ì‚¬ìš©ì ëª©ë°ì´í„°
â”‚   â”‚   â”‚   â”œâ”€â”€ questions.mock.ts     # ì§ˆë¬¸ ëª©ë°ì´í„° + CRUD í—¬í¼
â”‚   â”‚   â”‚   â””â”€â”€ participants.mock.ts  # ì°¸ì—¬ì ëª©ë°ì´í„° + CRUD í—¬í¼
â”‚   â”‚   â””â”€â”€ index.ts                  # Mock ë°ì´í„° export
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                     # 4. ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ (Mock/DB ì „í™˜)
â”‚   â”‚   â”œâ”€â”€ questions.service.ts      # ì§ˆë¬¸ ì„œë¹„ìŠ¤ (í™˜ê²½ë³€ìˆ˜ë¡œ ì „í™˜)
â”‚   â”‚   â”œâ”€â”€ participants.service.ts   # ì°¸ì—¬ì ì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ database.service.ts       # MongoDB ì—°ê²° ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ auth/                         # 5. NextAuth.js ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ auth.ts                   # NextAuth ì½”ì–´ ì„¤ì • (handlers, auth)
â”‚   â”‚   â””â”€â”€ authOptions.ts            # Provider ë° Callback ì •ì˜
â”‚   â”‚
â”‚   â”œâ”€â”€ components/                   # 6. ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ui/                       # ë²”ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Modal.tsx
â”‚   â”‚   â””â”€â”€ features/                 # ê¸°ëŠ¥ë³„ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚       â”œâ”€â”€ RouletteWheel.tsx
â”‚   â”‚       â”œâ”€â”€ ShareSettingsModal.tsx
â”‚   â”‚       â””â”€â”€ DashboardHeader.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                        # 7. Custom Hooks (ë¡œì§ ìº¡ìŠí™”)
â”‚   â”‚   â”œâ”€â”€ useRoulette.ts            # ìˆœìˆ˜ ë¡œì§ê³¼ Zustandë¥¼ í†µí•©í•˜ëŠ” Hook
â”‚   â”‚   â””â”€â”€ usePDFExport.ts           # PDF ì¶œë ¥ Custom Hook
â”‚   â”‚
â”‚   â”œâ”€â”€ store/                        # 8. Zustand Store ì •ì˜
â”‚   â”‚   â””â”€â”€ uiStore.ts                # UI ìƒíƒœ (isSpinning, ëª¨ë‹¬ ë“±)
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                        # 9. TypeScript íƒ€ì… ì •ì˜
â”‚   â”‚   â”œâ”€â”€ data.d.ts                 # Question, Participant, Result, Sharing
â”‚   â”‚   â””â”€â”€ next-auth.d.ts            # NextAuth ì„¸ì…˜ íƒ€ì… í™•ì¥
â”‚   â”‚
â”‚   â””â”€â”€ utils/                        # 10. ìˆœìˆ˜ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ (100% í…ŒìŠ¤íŠ¸ ëŒ€ìƒ!)
â”‚       â”œâ”€â”€ roulette.utils.ts         # ë£°ë › ê²°ê³¼ ì‚°ì¶œ/ì…”í”Œ ì•Œê³ ë¦¬ì¦˜
â”‚       â”œâ”€â”€ question.utils.ts         # ì§ˆë¬¸ ê´€ë ¨ ìœ í‹¸ë¦¬í‹°
â”‚       â”œâ”€â”€ participant.utils.ts      # ì°¸ì—¬ì ê´€ë ¨ ìœ í‹¸ë¦¬í‹°
â”‚       â””â”€â”€ pdf.utils.ts              # PDF ìƒì„± ìœ í‹¸ë¦¬í‹°
â”‚
â”œâ”€â”€ tests/                            # Jest/RTL í…ŒìŠ¤íŠ¸ íŒŒì¼
â”‚   â”œâ”€â”€ roulette.utils.test.ts
â”‚   â”œâ”€â”€ question.utils.test.ts
â”‚   â”œâ”€â”€ participant.utils.test.ts
â”‚   â””â”€â”€ pdf.utils.test.ts
â”‚
â”œâ”€â”€ public/                           # ì •ì  íŒŒì¼
â”œâ”€â”€ jest.config.ts                    # Jest ì„¤ì •
â”œâ”€â”€ tsconfig.json                     # TypeScript ì„¤ì •
â””â”€â”€ package.json
```

---

## ğŸ”„ ë°ì´í„° íë¦„ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UI ì»´í¬ë„ŒíŠ¸ (page.tsx)                                          â”‚
â”‚  â””â”€> useQuery({ queryFn: () => getQuestions() })                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Server Action (actions/questions.actions.ts)                    â”‚
â”‚  â””â”€> QuestionsService.getAll(userId, USE_MOCK)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Service (services/questions.service.ts)                         â”‚
â”‚  â””â”€> process.env.USE_MOCK_DATA === 'true' ?                     â”‚
â”‚        mockQuestionsDB.getAll()   â† ğŸ§ª ëª©ë°ì´í„° (ê°œë°œ)           â”‚
â”‚        : MongoDB.find()           â† ğŸ—„ï¸ ì‹¤ì œ DB (í”„ë¡œë•ì…˜)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ® í™˜ê²½ë³„ ë°ì´í„° ì†ŒìŠ¤ ì „í™˜

**í™˜ê²½ ë³€ìˆ˜**ë¡œ ëª©ë°ì´í„°ì™€ ì‹¤ì œ DBë¥¼ ì „í™˜í•©ë‹ˆë‹¤.

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# .env.development (ê°œë°œ í™˜ê²½)
USE_MOCK_DATA=true                    # ëª©ë°ì´í„° ì‚¬ìš©
MONGODB_URI=mongodb://localhost:27017/dollyeo
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=dev-secret-key

# .env.production (í”„ë¡œë•ì…˜ í™˜ê²½)
USE_MOCK_DATA=false                   # ì‹¤ì œ DB ì‚¬ìš©
MONGODB_URI=mongodb+srv://...
NEXTAUTH_URL=https://your-domain.com
NEXTAUTH_SECRET=your-production-secret
```

### ì „í™˜ ë°©ì‹

| í™˜ê²½                         | USE_MOCK_DATA | ë°ì´í„° ì†ŒìŠ¤        |
| ---------------------------- | ------------- | ------------------ |
| **ê°œë°œ (npm run dev)**       | `true`        | ğŸ§ª ë©”ëª¨ë¦¬ ëª©ë°ì´í„° |
| **í”„ë¡œë•ì…˜ (npm run build)** | `false`       | ğŸ—„ï¸ MongoDB         |

> ğŸ’¡ **ì¥ì **: UI ì½”ë“œ ë³€ê²½ ì—†ì´ í™˜ê²½ ë³€ìˆ˜ë§Œìœ¼ë¡œ ë°ì´í„° ì†ŒìŠ¤ ì „í™˜

---

## ğŸ—ºï¸ ê¸°ëŠ¥ë³„ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë§¤í•‘

| í˜ì´ì§€/ê¸°ëŠ¥       | Server Component (SC) | Client Component (CC)        | ë°ì´í„°            |
| ----------------- | --------------------- | ---------------------------- | ----------------- |
| **ë¡œê·¸ì¸ í˜ì´ì§€** | Layout/Metadata       | React Hook Form, NextAuth.js | Server Actions    |
| **ì§ˆë¬¸ ê´€ë¦¬**     | -                     | React Query, React Hook Form | Server Actions    |
| **ì°¸ì—¬ì ê´€ë¦¬**   | -                     | React Query, React Hook Form | Server Actions    |
| **ë£°ë › ëŒë¦¬ê¸°**   | -                     | Framer Motion, Zustand       | roulette.utils.ts |

---

## ğŸ› ï¸ ì‹œì‘í•˜ê¸°

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Node.js 20.19.0 ì´ìƒ
- MongoDB (ë¡œì»¬ ë˜ëŠ” Atlas) - **ëª©ë°ì´í„° ëª¨ë“œì—ì„œëŠ” ë¶ˆí•„ìš”**

### ì„¤ì¹˜

```bash
# ì˜ì¡´ì„± ì„¤ì¹˜
npm install
```

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env.development` íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒ ë‚´ìš©ì„ ì¶”ê°€í•˜ì„¸ìš”:

```env
# ëª©ë°ì´í„° ì‚¬ìš© ì—¬ë¶€ (true: ëª©ë°ì´í„°, false: ì‹¤ì œ DB)
USE_MOCK_DATA=true

# MongoDB ì—°ê²° ë¬¸ìì—´ (USE_MOCK_DATA=falseì¼ ë•Œ í•„ìš”)
MONGODB_URI=mongodb://localhost:27017/dollyeo

# NextAuth.js ì„¤ì •
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=dev-secret-key-change-in-production
```

### ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
npm run dev
```

[http://localhost:3000](http://localhost:3000)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> ğŸ’¡ **Tip**: `USE_MOCK_DATA=true`ë¡œ ì„¤ì •í•˜ë©´ MongoDB ì—°ê²° ì—†ì´ë„ ë°”ë¡œ ê°œë°œì„ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

---

## ğŸ“œ ì‚¬ìš© ê°€ëŠ¥í•œ ìŠ¤í¬ë¦½íŠ¸

| ëª…ë ¹ì–´                  | ì„¤ëª…                 |
| ----------------------- | -------------------- |
| `npm run dev`           | ê°œë°œ ì„œë²„ ì‹¤í–‰       |
| `npm run build`         | í”„ë¡œë•ì…˜ ë¹Œë“œ        |
| `npm run start`         | í”„ë¡œë•ì…˜ ì„œë²„ ì‹¤í–‰   |
| `npm run lint`          | ESLint ì‹¤í–‰          |
| `npm run test`          | í…ŒìŠ¤íŠ¸ ì‹¤í–‰          |
| `npm run test:watch`    | í…ŒìŠ¤íŠ¸ ì›Œì¹˜ ëª¨ë“œ     |
| `npm run test:coverage` | ì»¤ë²„ë¦¬ì§€ í¬í•¨ í…ŒìŠ¤íŠ¸ |

---

## ğŸ§ª í…ŒìŠ¤íŠ¸

```bash
# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm run test

# ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ ìƒì„±
npm run test:coverage
```

### í…ŒìŠ¤íŠ¸ íŒŒì¼ êµ¬ì¡°

```
tests/
â”œâ”€â”€ roulette.utils.test.ts      # ë£°ë › ë¡œì§ í…ŒìŠ¤íŠ¸
â”œâ”€â”€ question.utils.test.ts      # ì§ˆë¬¸ ìœ í‹¸ë¦¬í‹° í…ŒìŠ¤íŠ¸
â”œâ”€â”€ participant.utils.test.ts   # ì°¸ì—¬ì ìœ í‹¸ë¦¬í‹° í…ŒìŠ¤íŠ¸
â””â”€â”€ pdf.utils.test.ts           # PDF ìœ í‹¸ë¦¬í‹° í…ŒìŠ¤íŠ¸
```

---

## ğŸ“¦ ì£¼ìš” ì˜ì¡´ì„±

```json
{
  "dependencies": {
    "next": "16.0.6",
    "react": "19.2.0",
    "@tanstack/react-query": "^5.90.11",
    "zustand": "^5.0.9",
    "react-hook-form": "^7.67.0",
    "zod": "^4.1.13",
    "framer-motion": "^12.23.25",
    "next-auth": "^4.24.13",
    "mongodb": "^7.0.0",
    "mongoose": "^9.0.0"
  },
  "devDependencies": {
    "typescript": "^5",
    "tailwindcss": "^4",
    "jest": "^30.2.0",
    "@testing-library/react": "^16.3.0"
  }
}
```

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License
